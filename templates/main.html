<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
<!-- Latest compiled and minified CSS -->
<!--Import materialize.css-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
		
<!--Let browser know website is optimized for mobile-->
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />


    
</head>
<body>
	<div class="container">

	<div class="content">
		<form action="http://127.0.0.1:5000/" method="post">
			<div class="field">
				<label class="label">Search </label>
				<div class="control">
					<input type="text" class="input is-primary" name="searchTerm"  placeholder="Type here">
				</div>
			</div>
		
			<label class="label" for="Composer">Choose a Composer:</label>
			<div class="select">
				<select name="Composer" id="Composer">
				<option value="none" >None</option>
				<option value="arrahman">ஏ. ஆர். ரஹ்மான்</option>
				<option value="harris">ஹாரிஸ் ஜெயராஜ்</option>
				</select>
			</div>
		
			<label class="label" for="Lyricist">Choose a Lyricist:</label>
			<div class="select">
				<select name="Lyricist" id="Lyricist">
				<option value="none">None</option>	
				<option value="vairamuthu">வைரமுத்து</option>
				<option value="vaali">வாலி</option>
				<option value="na.muthukumar">நா. முத்துக்குமார்</option>
				<option value="damarai">தாமரை</option>
				<option value="yugaparathi">யுகபாரதி</option>
				</select>
			</div>
	
		
				<label class="label" for="Singer">Singer:</label>
				<div class="select">
					<select name="Singer" id="Singer">
					<option value="none">None</option>
					<option value="karthik">கார்த்திக்</option>
					<option value="shreya">ஸ்ரேயா கோஷல்</option>
					<option value="naresh">நரேஷ் ஐயர்</option>
					<option value="bala">பாலசுப்ரமணியம்</option>
					</select>
				</div><br>
			<input type="radio" id="basic" name="basic" value="Basic" checked>
			<label class="label" for="basic">Fundamental Search</label>
			<input type="radio" id="Filtered" name="basic" value="Simple">
			<label class="label" for="Filtered">Matched Search</label>
			<input type="radio" id="advanced" name="basic" value="Advanced">
			<label class="label" for="advanced">Wildcard Search</label><br>

			
			<input class="button is-warning" type="submit" value="Search">
		</form>

		{% if hits %}
		<div class="container">
			<div class="columns is-mobile is-centered">
				<div class="column is-half">
				  <p class="bd-notification is-primary">
					<h1>Search Results</h1>
					<h2 class="has-text-info" id="results"><strong class="has-text-link">{{ num_results }}</strong> results</h2>
					<h2 class="has-text-info" id="results"> Time taken <strong class="text-danger">({{  time  }}ms)</strong></h2>
				  </p>
				</div>
			  </div>

		</div>
		<section id='song_section' class="section">
			{% for hit in hits %}
			<article class="media">
				<div class="media-content">
					<h3><a href="#" title="">{{ hit._source["Song Name"] }}</a></h3>
					<ul class="meta-search">
						
						<li> <span>Song Name: {{ hit._source["Name"] }} </span></li>
						<li> <span>Album: {{ hit._source["Album"]  }}</span></li>
						<li> <span>Composer: {{ hit._source["Composer"]  }} </span></li>
						<li> <span>Singer: {{ hit._source["Singer"]   }} </span></li>
						<li> <span>Lyricist: {{ hit._source["Lyricist"]  }}</span></li>
						<li> <span>Lyrics: {{ hit._source["Lyrics"]  }} </span></li>
						<li> <span>Composer: {{ hit._source["Composer"]  }} </span></li>
						<li> <span>Year: {{ hit._source["Year"]   }} </span></li>
						<li> <span>Metaphor: {{ hit._source["Metaphor"] }}</span></li>
						<li> <span>Metaphor: {{ hit._source["Type of Metaphor"] }}</span></li>
						<li> <span>Source Domain: {{ hit._source["Source"]  }}</span></li>
						<li> <span>Target Domain: {{ hit._source["Target"]  }}</span></li>
						<li> <span>Interpretation: {{ hit._source["Interpretations"]  }}</span></li>
					</ul>
					<!-- <p style="white-space: pre-line">{{ hit._source.சுருக்கம் }}</p> -->
				</div>
				<!-- <div class="col-md-6">


				</div>
				<span class="clearfix borda"></span> -->
			</article>
			{% endfor %}
		</section>
		

		{% else %}
			{% if init %}
			<section class="mb20">
				<h1>Search for Tamil Song metaphors </h1>
				<h2 class="lead">Please enter the search query in the box</strong></h2>
			</section>
			{% else %}
			<hgroup class="mb20">
				<h1>Search Results</h1>
				<h2 class="lead"><strong class="text-danger">0</strong> results were found for the search for <strong class="text-danger">{ query }</strong></h2>
			</hgroup>
			{% endif %}
		{% endif %}
	</div>
	<!-- Latest compiled and minified JavaScript -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

	</div>
</body>
</html>